/**
 * The storePassword and storeAlias variable are in weather.properties
 */

def weatherPropertiesFile = rootProject.file("weather.properties")
def weatherProperties = new Properties()
weatherProperties.load(new FileInputStream(weatherPropertiesFile))

ext {
    keyStoreFile = '../keystore.jks'
    keyStorePassword = projectProperty('storePassword', weatherProperties)
    keyStoreAlias = projectProperty('storeAlias', weatherProperties)
}


protected def projectProperty(String key, Properties weatherProperties) {
    if (weatherProperties.containsKey(key)) {
        return weatherProperties.get(key)
    } else if (project.hasProperty(key)) {
        return project.properties.get(key)
    } else {
        def value = System.getenv(key)
        return value != null ? value : ""
    }
}